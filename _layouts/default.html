<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% if page.title == 'Home' %}CTRL - Canadian Tech Rights Lab{% else %}CTRL - {{ page.title }}{% endif %}</title>
    <link rel="stylesheet" href="{{ '/styles.css' | relative_url }}">
  </head>
  <body>
    <header class="site-header">
      <div class="header-content">
        <div class="ascii-header" id="ascii-header">
          <!-- Initial header will be set by JavaScript -->
        </div>
        <p class="header-text">─────────[ Canadian Tech Rights Lab ]─────────</p>
      </div>
    </header>

    <!-- Hidden divs containing all ASCII headers -->
    <div id="ascii-headers" style="display: none; position: absolute; left: -9999px;">
      <div class="header">
        <pre>
________/\\\\\\\\\__/\\\\\\\\\\\\\\\____/\\\\\\\\\______/\\\_____________        
______/\\\////////__\///////\\\/////___/\\\///////\\\___\/\\\_____________       
_____/\\\/_________________\/\\\_______\/\\\_____\/\\\___\/\\\_____________      
_____/\\\___________________\/\\\_______\/\\\\\\\\\\\/____\/\\\_____________     
_____\/\\\___________________\/\\\_______\/\\\//////\\\____\/\\\_____________    
______\//\\\__________________\/\\\_______\/\\\____\//\\\___\/\\\_____________   
________\///\\\________________\/\\\_______\/\\\_____\//\\\__\/\\\_____________  
___________\////\\\\\\\\\_______\/\\\_______\/\\\______\//\\\_\/\\\\\\\\\\\\\\\_ 
_______________\/////////________\///________\///________\///__\///////////////__</pre>
      </div>
      <div class="header">
        <pre>   
   ██████╗████████╗██████╗ ██╗     
  ██╔════╝╚══██╔══╝██╔══██╗██║     
  ██║        ██║   ██████╔╝██║     
  ██║        ██║   ██╔══██╗██║     
  ╚██████╗   ██║   ██║  ██║███████╗
   ╚═════╝   ╚═╝   ╚═╝  ╚═╝╚══════╝</pre>
      </div>
      <div class="header">
        <pre>
                   ,----,              ,--,    
                 ,/   .`|           ,---.'|    
  ,----..      ,`   .'  : ,-----.   |   | :    
 /   /   \   ;    ;     /'    /  \  :   : |    
|   :     :.'___,/    ,' ;   :    \ |   ' :    
.   |  ;. /|    :     |  |   | .\ : ;   ; '    
.   ; /--` ;    |.';  ;  .   : |: | '   | |__  
;   | ;    `----'  |  |  |   |  \ : |   | :.'| 
|   : |        '   :  ;  |   : .  / '   :    ; 
.   | '___     |   |  '  ;   | |  \ |   |  ./  
'   ; : .'|    '   :  |  |   | ;\  \;   : ;    
'   | '/  :    ;   |.'   :   ' | \.'|   ,/     
|   :    /     '---'     :   : :-'  '---'      
 \   \ .'                |   |.'               
  `---`                  `---'</pre>
      </div>
      <div class="header">
        <pre> ________ _________  ________  ___          
|\   ____\\___   ___\\   __  \|\  \         
\ \  \___\|___ \  \_\ \  \|\  \ \  \        
 \ \  \       \ \  \ \ \   _  _\ \  \       
  \ \  \____   \ \  \ \ \  \\  \\ \  \____  
   \ \_______\  \ \__\ \ \__\\ _\\ \_______\
    \|_______|   \|__|  \|__|\|__|\|_______|</pre>
      </div>
      <div class="header">
        <pre>   
    ,ad8888ba,  888888888888  88888888ba   88           
   d8"'    `"8b      88       88      "8b  88           
  d8'                88       88      ,8P  88           
  88                 88       88aaaaaa8P'  88           
  88                 88       88""""88'    88           
  Y8,                88       88    `8b    88           
   Y8a.    .a8P      88       88     `8b   88           
    `"Y8888Y"'       88       88      `8b  88888888888</pre>
      </div>
      <div class="header">
        <pre>   
   _____ _______ _____  _      
  / ____|__   __|  __ \| |     
 | |       | |  | |__) | |     
 | |       | |  |  _  /| |     
 | |____   | |  | | \ \| |____ 
  \_____|  |_|  |_|  \_\______|</pre>
      </div>
      <div class="header">
        <pre>   
   ██████  ██████████ ███████   ██      
  ██░░░░██░░░░░██░░░ ░██░░░░██ ░██      
 ██    ░░     ░██    ░██   ░██ ░██      
░██           ░██    ░███████  ░██      
░██           ░██    ░██░░░██  ░██      
░░██    ██    ░██    ░██  ░░██ ░██      
 ░░██████     ░██    ░██   ░░██░████████
  ░░░░░░      ░░     ░░     ░░ ░░░░░░░░</pre>
      </div>
      <div class="header">
        <pre>
   ░▒▓██████▓▒░▒▓████████▓▒░▒▓███████▓▒░░▒▓█▓▒░        
  ░▒▓█▓▒░░▒▓█▓▒░ ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░        
  ░▒▓█▓▒░        ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░        
  ░▒▓█▓▒░        ░▒▓█▓▒░   ░▒▓███████▓▒░░▒▓█▓▒░        
  ░▒▓█▓▒░        ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░        
  ░▒▓█▓▒░░▒▓█▓▒░ ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░        
   ░▒▓██████▓▒░  ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓████████▓▒░           
        </pre>
      </div>
      <div class="header">
        <pre>
  @@@@@@@  @@@@@@@  @@@@@@@   @@@       
  @@@@@@@@  @@@@@@@  @@@@@@@@  @@@       
  !@@         @@!    @@!  @@@  @@!       
  !@!         !@!    !@!  @!@  !@!       
  !@!         @!!    @!@!!@!   @!!       
  !!!         !!!    !!@!@!    !!!       
  :!!         !!:    !!: :!!   !!:       
  :!:         :!:    :!:  !:!   :!:      
   ::: :::     ::    ::   :::   :: ::::  
   :: :: :     :      :   : :  : :: : :          
        </pre>
      </div>
      <div class="header">
        <pre>
     ,o888888o. 8888888 8888888888 8 888888888o.   8 8888         
    8888     `88.     8 8888       8 8888    `88.  8 8888         
 ,8 8888       `8.    8 8888       8 8888     `88  8 8888         
 88 8888              8 8888       8 8888     ,88  8 8888         
 88 8888              8 8888       8 8888.   ,88'  8 8888         
 88 8888              8 8888       8 888888888P'   8 8888         
 88 8888              8 8888       8 8888`8b       8 8888         
 `8 8888       .8'    8 8888       8 8888 `8b.     8 8888         
    8888     ,88'     8 8888       8 8888   `8b.   8 8888         
     `8888888P'       8 8888       8 8888     `88. 8 888888888888         
        </pre>
      </div>
      <div class="header">
        <pre>
               s                       .. 
              :8                 x .d88"  
             .88       .u    .    5888R   
      .     :888ooo  .d88B :@8c   '888R   
 .udR88N  -*8888888 ="8888f8888r   888R   
<888'888k   8888      4888>'88"    888R   
9888 'Y"    8888      4888> '      888R   
9888        8888      4888>        888R   
9888       .8888Lu=  .d888L .+     888R   
?8888u../  ^%888*    ^"8888*"     .888B . 
 "8888P'     'Y"        "Y"       ^*888%  
   "P'                              "%    </pre>
      </div>
      <div class="header">
        <pre>
          `..          `..                  
          `..          `..                  
    `...`.`. `.`. `... `..                  
  `..     `..   `..    `..                  
 `..      `..   `..    `..                  
  `..     `..   `..    `..                  
    `...   `.. `...   `...                               
        </pre>
      </div>
      <div class="header">
        <pre>
             I8               ,dPYb,
             I8               IP'`Yb
          88888888            I8  8I
             I8               I8  8'
   ,gggg,    I8     ,gggggg,  I8 dP 
  dP"  "Yb   I8     dP""""8I  I8dP  
 i8'        ,I8,   ,8'    8I  I8P   
,d8,_    _ ,d88b, ,dP     Y8,,d8b,_ 
P""Y8888PP88P""Y888P      `Y88P'"Y88</pre>
      </div>
    </div>

    <div class="container">
      <aside class="sidebar">
        <div class="menu-section">
          <div class="window-title">Projects</div>
          <div class="window-content">
            <div class="ascii-border ascii-border-top">┌────────────────────────────────</div>
            <div class="window-inner">
              <ul>
                {% for project in site.projects %}
                <li><a href="{{ project.url | relative_url }}">[{{ forloop.index }}] {{ project.title }}</a></li>
                {% endfor %}
              </ul>
            </div>
            <div class="ascii-border ascii-border-bottom">└────────────────────────────────</div>
          </div>
        </div>

        <div class="menu-section">
          <div class="window-title">Recent</div>
          <div class="window-content">
            <div class="ascii-border ascii-border-top">┌────────────────────────────────</div>
            <div class="window-inner">
              <ul class="recent-posts">
                {% for post in site.posts limit:5 %}
                <li>
                  <span class="post-date">{{ post.date | date: "%Y-%m-%d" }}</span>
                  <a href="{{ post.url | relative_url }}" class="post-title">[{{ forloop.index | plus: 3 }}] {{ post.title }}</a>
                </li>
                {% endfor %}
              </ul>
            </div>
            <div class="ascii-border ascii-border-bottom">└────────────────────────────────</div>
          </div>
        </div>

        <div class="menu-section">
          <div class="window-title">About</div>
          <div class="window-content">
            <div class="ascii-border ascii-border-top">┌────────────────────────────────</div>
            <div class="window-inner">
              <ul>
                <li>Contact: </li></li:>
                <li>Version: 0.9.0 Beta</li>
                <li>Updated: {{ site.time | date: "%Y-%m-%d" }}</li>
                <li><a href="{{ '/pages/terms' | relative_url }}">[98] Terms</a></li>
                <li><a href="{{ '/pages/privacy' | relative_url }}">[99] Privacy</a></li>
              </ul>
            </div>
            <div class="ascii-border ascii-border-bottom">└────────────────────────────────</div>
          </div>
        </div>
      </aside>

      <main class="main-content">
        <div class="content-window">
          <div class="window-content">
            <div class="window-title">{{ page.title }}</div>
            <div class="ascii-border ascii-border-top">┌────────────────────────────────</div>
            <div class="window-inner">
              <ul>
                {% if page.date %}
                <li><span class="post-date">{{ page.date | date: "%Y-%m-%d" }}</span></li>
                {% endif %}
                {{ content }}
              </ul>
            </div>
            <div class="ascii-border ascii-border-bottom">└────────────────────────────────</div>
          </div>
        </div>
      </main>
    </div>

    <footer class="site-footer">
      <div class="footer-content">
        <p>Copyright 2025 Canadian Tech Rights Lab</p>
      </div>
      <button class="theme-toggle">[L]ight/Dark</button>
    </footer>

    <script>
      // Initialize theme and ASCII header
      document.addEventListener('DOMContentLoaded', () => {
        if (localStorage.getItem('theme') === 'light') {
          document.body.classList.add('light-mode');
        }
        
        const headers = document.querySelectorAll('#ascii-headers .header');
        const randomIndex = Math.floor(Math.random() * headers.length);
        document.getElementById('ascii-header').innerHTML = headers[randomIndex].innerHTML;
      });

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        const key = e.key.toLowerCase();
        
        if (key === 'h') {
          alert('CTRL BBS Help\n\nUse number keys to navigate menu items.');
        } else if (key === 'q') {
          if (confirm('Are you sure you want to quit CTRL BBS?')) {
            window.close();
          }
        } else if (key === 'm') {
          window.location.href = '/';
        } else if (key === 'p') {
          window.history.back();
        } else if (key === 'l') {
          document.body.classList.toggle('light-mode');
          localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        } else if (key === 'r') {
          const headers = document.querySelectorAll('#ascii-headers .header');
          const randomIndex = Math.floor(Math.random() * headers.length);
          document.getElementById('ascii-header').innerHTML = headers[randomIndex].innerHTML;
        } else if (key >= '1' && key <= '9') {
          const menuItems = document.querySelectorAll('a[href^="/"]');
          const index = parseInt(key) - 1;
          if (menuItems[index]) {
            menuItems[index].click();
          }
        }
      });

      // Theme toggle button
      document.querySelector('.theme-toggle').addEventListener('click', () => {
        document.body.classList.toggle('light-mode');
        localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
      });
    </script>
  </body>
</html> 